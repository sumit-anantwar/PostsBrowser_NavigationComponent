apply plugin: 'kotlin'

configurations {
    testClasses {
        extendsFrom(testRuntime)
    }
}

task testJar(type: Jar) {
    classifier = 'test'
    from sourceSets.test.output
}

// add the jar generated by the testJar task to the testClasses dependency
artifacts {
    testClasses testJar
}


dependencies {
    def dependency = rootProject.ext.dependency

    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation project(':repository')

    // Kotlin
    implementation dependency.kotlin

    // Retrofit
    implementation dependency.moshiConverter
    implementation dependency.retrofit
    implementation dependency.retrofitAdapter
    implementation dependency.gsonConverter
    implementation dependency.okHttpAndroid
    implementation dependency.okHttpLogger
    implementation dependency.javaxAnnotation
    implementation dependency.javaxInject

    // Tests
    testImplementation dependency.junit
    testImplementation dependency.mockitoKotlin
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8